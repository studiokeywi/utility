export const DOMHelper=a=>{if(!(a instanceof HTMLDocument))throw Error("Cannot create DOMHelper for a non-HTMLDocument");const b=(a,b)=>(b=null===b&void 0===b?{}:b,Object.entries(b).forEach(([a,b])=>{tag.setAttribute(a,b)}),a),c=(a,b)=>a.querySelector(b),d=b=>c(a,b),e=(a,b)=>a.querySelectorAll(b),f=(a,b)=>(a.appendChild(b),a),g=(a,b)=>(a.append(b),a),h=(a,b,c)=>(a.addEventListener(b,c),a),i=a=>{if(a&&a.source&&({source:a}=a),"string"==typeof a&&(a=d(a)),!(a instanceof Node))throw Error("Cannot create Chainer for a non-Node");const e={source:a,get:a=>i(c(a)),addTo:b=>(f(a,b),e),addText:b=>(g(a,b),e),update:c=>(b(a,c),e),handle:(b,c)=>(h(a,b,c),e)};return e},j=(a,b)=>new Proxy(a,b),k={apply:(a,b,[c,...e])=>("string"==typeof c&&(c=d(c)),Reflect.apply(a,b,[c,...e]))},l=Object.assign(i,{make:(c,d)=>{const e=a.createElement(c);return b(e,d)},qs:d,qsa:b=>e(a,b),body:a.body,head:a.head,frag:a.createDocumentFragment.bind(a),get:j(c,k),getAll:j(e,k),addText:j(g,k),addToEle:j(f,k),update:j(b,k),handle:j(h,k),remove:j(a=>a.parentNode.removeChild(a),k)});return j(l,{get:(a,b)=>{if(b=b.split(/_/),1<b.length){const c=b.slice(1);return Reflect.get(a,b[0])(...c)}return Reflect.get(a,b[0])}})};